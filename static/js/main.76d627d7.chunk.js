(this["webpackJsonpreact-assignment"]=this["webpackJsonpreact-assignment"]||[]).push([[0],{35:function(e,t,s){},36:function(e,t,s){},45:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s.n(a),r=s(18),n=s.n(r),c=(s(35),s(11)),o=s(12),d=s(14),l=s(13),u=(s(36),s.p+"static/media/logo.6ce24c58.svg"),h=s(3),b=s(2);var j=function(){return Object(b.jsxs)("nav",{className:"bg-gray-800",children:[Object(b.jsx)("div",{className:"hidden sm:block mx-auto",children:Object(b.jsx)("div",{className:"relative flex items-center justify-between h-16",children:Object(b.jsxs)("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:[Object(b.jsx)("div",{className:"flex-shrink-0 flex items-center",children:Object(b.jsx)("img",{className:"hidden sm:block h-8 w-auto ml-6",src:u,alt:"logo"})}),Object(b.jsx)("div",{className:"hidden sm:block sm:ml-6",children:Object(b.jsxs)("div",{className:"flex space-x-4",children:[Object(b.jsx)(h.a,{render:function(e){var t=e.history;return Object(b.jsx)("button",{onClick:function(){t.push("/Search")},className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Search"})}}),Object(b.jsx)(h.a,{render:function(e){var t=e.history;return Object(b.jsx)("button",{onClick:function(){t.push("/Favourites")},className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Favourites"})}})]})})]})})}),Object(b.jsx)("div",{className:"sm:hidden",id:"mobile-menu",children:Object(b.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[Object(b.jsx)(h.a,{render:function(e){var t=e.history;return Object(b.jsx)("button",{onClick:function(){t.push("/Search")},className:"bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium",children:"Search"})}}),Object(b.jsx)(h.a,{render:function(e){var t=e.history;return Object(b.jsx)("button",{onClick:function(){t.push("/Favourites")},className:"bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium",children:"Favourites"})}})]})})]})},x=s(15),m=s(27),f=s.n(m),v=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={value:""},a.handleChange=a.handleChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(o.a)(s,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){this.props.onSearchSubmit(this.state.value),e.preventDefault()}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 flex",children:[Object(b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Search"}),Object(b.jsx)("div",{className:"shadow w-8 ml-10",children:Object(b.jsx)("p",{className:"m-2 font-bold text-gray-900",children:"r/"})}),Object(b.jsx)("div",{className:"shadow flex w-full",children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,className:"flex w-full",children:[Object(b.jsx)("input",{className:"w-full rounded p-2",type:"text",placeholder:"Search a subreddit here",value:this.state.value,onChange:this.handleChange}),Object(b.jsx)("button",{className:"bg-white w-auto flex justify-end items-center text-blue-500 p-2 hover:text-blue-400",children:Object(b.jsx)(f.a,{})})]})})]})}}]),s}(i.a.Component),p=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={},a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(o.a)(s,[{key:"handleSubmit",value:function(e){this.props.onSearchSubmit(e)}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("header",{className:"bg-white shadow",children:[Object(b.jsx)(h.a,{exact:!0,path:"/",render:function(){return Object(b.jsx)(v,{onSearchSubmit:e.handleSubmit,children:" "})}}),Object(b.jsx)(h.a,{path:"/Search",render:function(){return Object(b.jsx)(v,{onSearchSubmit:e.handleSubmit,children:" "})}}),Object(b.jsx)(h.a,{path:"/Favourites",render:function(){return Object(b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 py-6 px-4 sm:px-6 lg:px-8",children:"Favourites"})}})]})}}]),s}(i.a.Component),O=s(29),g=s.n(O),S=s(28),y=s.n(S),N=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={},a}return Object(o.a)(s,[{key:"render",value:function(){var e,t,s=this,a=0===(null===this||void 0===this||null===(e=this.props)||void 0===e?void 0:e.items.length);return Object(b.jsx)("div",{className:"flex h-full bg-gray-200",children:Object(b.jsx)("div",{className:"flex justify-center w-full",children:Object(b.jsx)("div",{className:"bg-white shadow-xl rounded-lg w-2/3",children:a?Object(b.jsx)("div",{children:" No results found"}):Object(b.jsx)("ul",{className:"divide-y divide-gray-300",children:null===this||void 0===this||null===(t=this.props)||void 0===t?void 0:t.items.map((function(e,t){return Object(b.jsxs)("div",{className:"flex hover:bg-gray-50 cursor-pointer p-4",children:[Object(b.jsx)("div",{className:"w-11/12",children:Object(b.jsxs)("a",{href:e.url,children:[Object(b.jsx)("p",{className:"font-bold",children:e.title}),Object(b.jsxs)("p",{className:"italic text-gray-500",children:["Author: ",e.author]}),Object(b.jsxs)("p",{className:"italic text-gray-500",children:["Ups: ",e.ups]}),Object(b.jsxs)("p",{className:"italic text-gray-500",children:["Subreddit: ",e.subreddit]})]})}),Object(b.jsx)("div",{className:"m-4",onClick:function(){s.props.onFavouritesClick(e.id)},children:e.isFavourite?Object(b.jsx)(y.a,{}):Object(b.jsx)(g.a,{})})]},t)}))})})})})}}]),s}(i.a.Component),w=s(17),k=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var a;Object(c.a)(this,s),(a=t.call(this,e)).handleSearch=function(e){a.setState({searchInput:e});var t=[];try{fetch("https://www.reddit.com/r/".concat(e,"/top/.json?limit=10")).then((function(e){return e.json().then((function(e){if(e.error)throw a.setState({topSubredditPosts:[]}),"Err";e.data.children.forEach((function(e){try{t.push({author:e.data.author,id:e.data.id,score:e.data.score,ups:e.data.ups,url:e.data.url,title:e.data.title,subreddit_subscribers:e.data.subreddit_subscribers,subreddit:e.data.subreddit,isFavourite:a.state.favouriteSubredditPosts.find((function(t){return e.data.id===t.id}))})}catch(s){console.log(s),a.setState({topSubredditPosts:[]})}})),a.setState({topSubredditPosts:t})}))}))}catch(s){console.log(s),a.setState({topSubredditPosts:[]})}},a.handleFavouritesAction=function(e){var t=[],s=a.state.favouriteSubredditPosts;if(a.state.topSubredditPosts.forEach((function(s){s.id===e&&(s.isFavourite=!s.isFavourite),t.push(s)})),s.find((function(t){return t.id===e}))){var i=s.map((function(e){return e.id})).indexOf(e);s.splice(i,1)}t.forEach((function(t){if(t.isFavourite&&!s.find((function(e){return e.id===t.id})))s.push(t),localStorage.setItem(e,JSON.stringify(t));else if(s.find((function(e){return e.id===t.id}))&&t.id===e){var a=s.map((function(e){return e.id})).indexOf(t.id);s.splice(a,1),localStorage.removeItem(e)}})),a.setState({topSubredditPosts:t,favouriteSubredditPosts:s})};for(var i=[],r=0;r<localStorage.length;r++)i.push(JSON.parse(localStorage.getItem(localStorage.key(r))));return a.state={searchInput:"",topSubredditPosts:[],favouriteSubredditPosts:i},a}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(b.jsx)(w.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(j,{children:" "}),Object(b.jsx)(p,{onSearchSubmit:this.handleSearch}),Object(b.jsx)("main",{children:Object(b.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:Object(b.jsxs)("div",{className:"border-4 border border-gray-200 rounded-lg",children:[Object(b.jsx)(h.a,{exact:!0,path:"/",children:Object(b.jsx)(N,{items:this.state.topSubredditPosts,onFavouritesClick:this.handleFavouritesAction})}),Object(b.jsx)(h.a,{path:"/Search",render:function(){return Object(b.jsx)(N,{items:e.state.topSubredditPosts,onFavouritesClick:e.handleFavouritesAction})}}),Object(b.jsx)(h.a,{path:"/Favourites",render:function(){return Object(b.jsx)(N,{items:e.state.favouriteSubredditPosts,onFavouritesClick:e.handleFavouritesAction})}})]})})})]})})}}]),s}(i.a.Component),F=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,57)).then((function(t){var s=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,n=t.getTTFB;s(e),a(e),i(e),r(e),n(e)}))};n.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root")),F()}},[[45,1,2]]]);
//# sourceMappingURL=main.76d627d7.chunk.js.map